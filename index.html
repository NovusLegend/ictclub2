<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>St. Joseph's Naggalama ICT Club</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Open+Sans:wght@400;600&display=swap');
        
        :root {
            --coffee-brown: #6F4E37;
            --pale-yellow: #F8F4E3;
            --dark-brown: #4A2C12;
            --light-brown: #A68A64;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: var(--pale-yellow);
            color: var(--dark-brown);
        }
        
        h1, h2, h3, h4 {
            font-family: 'Merriweather', serif;
        }
        
        .bg-coffee {
            background-color: var(--coffee-brown);
        }
        
        .text-coffee {
            color: var(--coffee-brown);
        }
        
        .border-coffee {
            border-color: var(--coffee-brown);
        }
        
        .bg-pale-yellow {
            background-color: var(--pale-yellow);
        }
        
        .btn-primary {
            background-color: var(--coffee-brown);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--dark-brown);
        }
        
        .btn-secondary {
            background-color: var(--light-brown);
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: var(--coffee-brown);
        }
        
        .like-btn.liked {
            color: #E74C3C;
        }
        
        .comment-box {
            transition: all 0.3s ease;
        }
        
        .comment-box:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .post-card {
            transition: all 0.3s ease;
        }
        
        .post-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .modal {
            transition: all 0.3s ease;
        }
        
        .cross-icon {
            position: relative;
            width: 20px;
            height: 20px;
        }
        
        .cross-icon:before, .cross-icon:after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background-color: var(--coffee-brown);
            top: 50%;
            left: 0;
        }
        
        .cross-icon:before {
            transform: rotate(45deg);
        }
        
        .cross-icon:after {
            transform: rotate(-45deg);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Firebase Config (Replace with your actual config) -->
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
  apiKey: "AIzaSyBNV5OwdprDPhB8mc9XzixJJfUl0jw4GJI",
  authDomain: "blog-b9a62.firebaseapp.com",
  projectId: "blog-b9a62",
  storageBucket: "blog-b9a62.firebasestorage.app",
  messagingSenderId: "735392973459",
  appId: "1:735392973459:web:64a810b3f9f9455efe4366",
  measurementId: "G-DC8V348EWQ"
};
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        
        // Initialize Firebase services
        const auth = firebase.auth();
        const db = firebase.firestore();
    </script>

    <!-- Header -->
    <header class="bg-coffee text-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center">
                    <i class="fas fa-laptop-code text-coffee text-2xl"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold">St. Joseph's Naggalama</h1>
                    <p class="text-sm text-pale-yellow">ICT Club Blog</p>
                </div>
            </div>
            
            <nav class="hidden md:flex space-x-6">
                <a href="#" class="hover:text-pale-yellow transition">Home</a>
                <a href="#" class="hover:text-pale-yellow transition">About</a>
                <a href="#" class="hover:text-pale-yellow transition">Events</a>
                <a href="#" class="hover:text-pale-yellow transition">Resources</a>
                <a href="#" class="hover:text-pale-yellow transition">Contact</a>
            </nav>
            
            <div class="flex items-center space-x-4">
                <button id="login-btn" class="px-4 py-2 rounded-full bg-white text-coffee hover:bg-pale-yellow transition">
                    Login
                </button>
                <button id="signup-btn" class="px-4 py-2 rounded-full bg-pale-yellow text-coffee hover:bg-white transition">
                    Sign Up
                </button>
                <button id="user-menu-btn" class="hidden items-center space-x-2">
                    <div class="w-8 h-8 bg-pale-yellow rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-coffee"></i>
                    </div>
                    <span class="text-white">User</span>
                </button>
                <button id="mobile-menu-btn" class="md:hidden text-white text-2xl">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-dark-brown py-4 px-4">
            <div class="flex flex-col space-y-3">
                <a href="#" class="text-white hover:text-pale-yellow transition">Home</a>
                <a href="#" class="text-white hover:text-pale-yellow transition">About</a>
                <a href="#" class="text-white hover:text-pale-yellow transition">Events</a>
                <a href="#" class="text-white hover:text-pale-yellow transition">Resources</a>
                <a href="#" class="text-white hover:text-pale-yellow transition">Contact</a>
            </div>
        </div>
        
        <!-- User Dropdown Menu -->
        <div id="user-menu" class="hidden absolute right-4 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
            <a href="#" class="block px-4 py-2 text-coffee hover:bg-pale-yellow">Profile</a>
            <a href="#" class="block px-4 py-2 text-coffee hover:bg-pale-yellow">My Posts</a>
            <a href="#" class="block px-4 py-2 text-coffee hover:bg-pale-yellow">Settings</a>
            <button id="logout-btn" class="block w-full text-left px-4 py-2 text-coffee hover:bg-pale-yellow">Logout</button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- Welcome Banner -->
        <section class="mb-12 bg-gradient-to-r from-coffee to-dark-brown rounded-lg p-8 text-white">
            <div class="max-w-3xl">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Welcome to Our ICT Club Blog</h2>
                <p class="text-lg mb-6">"Whatever you do, work at it with all your heart, as working for the Lord..." - Colossians 3:23</p>
                <button class="px-6 py-3 bg-pale-yellow text-coffee rounded-lg font-bold hover:bg-white transition">
                    Learn More About Our Club
                </button>
            </div>
        </section>
        
        <!-- Featured Post -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 text-coffee border-b-2 border-coffee pb-2">Featured Post</h2>
            <div class="bg-white rounded-xl shadow-md overflow-hidden post-card">
                <div class="md:flex">
                    <div class="md:flex-shrink-0 md:w-1/3">
                        <img class="h-full w-full object-cover" src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Students working on computers">
                    </div>
                    <div class="p-8 md:w-2/3">
                        <div class="uppercase tracking-wide text-sm text-light-brown font-semibold mb-1">Technology • Education</div>
                        <h3 class="text-2xl font-bold text-coffee mb-3">Annual ICT Symposium 2023</h3>
                        <p class="mt-2 text-dark-brown mb-4">
                            Our ICT Club recently hosted the Annual ICT Symposium where students from various schools gathered to discuss emerging technologies, participate in coding competitions, and attend workshops led by industry professionals...
                        </p>
                        <div class="flex items-center justify-between mt-6">
                            <div class="flex items-center">
                                <img class="h-10 w-10 rounded-full" src="https://randomuser.me/api/portraits/men/32.jpg" alt="Author">
                                <div class="ml-3">
                                    <p class="text-sm font-medium text-coffee">Mr. John Katongole</p>
                                    <p class="text-sm text-light-brown">ICT Teacher • 2 days ago</p>
                                </div>
                            </div>
                            <button class="px-4 py-2 btn-primary rounded-lg">Read More</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Recent Posts -->
        <section class="mb-12">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-coffee border-b-2 border-coffee pb-2">Recent Posts</h2>
                <button id="new-post-btn" class="px-4 py-2 btn-primary rounded-lg hidden">
                    <i class="fas fa-plus mr-2"></i> New Post
                </button>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Post 1 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden post-card">
                    <img class="h-48 w-full object-cover" src="https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80" alt="Coding workshop">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="uppercase tracking-wide text-sm text-light-brown font-semibold mb-1">Workshop</div>
                                <h3 class="text-xl font-bold text-coffee mb-2">Python Programming Basics</h3>
                            </div>
                            <button class="like-btn text-gray-400 hover:text-red-500 transition" data-post-id="1">
                                <i class="far fa-heart"></i>
                            </button>
                        </div>
                        <p class="mt-2 text-dark-brown">
                            Our introductory Python workshop covered variables, loops, and functions. Perfect for beginners looking to start their coding journey.
                        </p>
                        <div class="flex items-center mt-6">
                            <img class="h-8 w-8 rounded-full" src="https://randomuser.me/api/portraits/women/44.jpg" alt="Author">
                            <div class="ml-3">
                                <p class="text-sm font-medium text-coffee">Ms. Sarah Nalubega</p>
                                <p class="text-xs text-light-brown">1 week ago • 24 likes</p>
                            </div>
                        </div>
                    </div>
                    <div class="px-6 pb-4">
                        <button class="view-comments-btn text-sm text-coffee hover:underline" data-post-id="1">
                            View 5 comments
                        </button>
                    </div>
                </div>
                
                <!-- Post 2 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden post-card">
                    <img class="h-48 w-full object-cover" src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D3D&auto=format&fit=crop&w=1471&q=80" alt="Team collaboration">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="uppercase tracking-wide text-sm text-light-brown font-semibold mb-1">Announcement</div>
                                <h3 class="text-xl font-bold text-coffee mb-2">New Club Leadership</h3>
                            </div>
                            <button class="like-btn text-gray-400 hover:text-red-500 transition" data-post-id="2">
                                <i class="far fa-heart"></i>
                            </button>
                        </div>
                        <p class="mt-2 text-dark-brown">
                            We're pleased to announce our new ICT Club leadership team for the 2023-2024 academic year. Congratulations to all selected members!
                        </p>
                        <div class="flex items-center mt-6">
                            <img class="h-8 w-8 rounded-full" src="https://randomuser.me/api/portraits/men/75.jpg" alt="Author">
                            <div class="ml-3">
                                <p class="text-sm font-medium text-coffee">Mr. David Ssebunya</p>
                                <p class="text-xs text-light-brown">2 weeks ago • 42 likes</p>
                            </div>
                        </div>
                    </div>
                    <div class="px-6 pb-4">
                        <button class="view-comments-btn text-sm text-coffee hover:underline" data-post-id="2">
                            View 8 comments
                        </button>
                    </div>
                </div>
                
                <!-- Post 3 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden post-card">
                    <img class="h-48 w-full object-cover" src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Bible and laptop">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="uppercase tracking-wide text-sm text-light-brown font-semibold mb-1">Devotional</div>
                                <h3 class="text-xl font-bold text-coffee mb-2">Faith in the Digital Age</h3>
                            </div>
                            <button class="like-btn text-gray-400 hover:text-red-500 transition" data-post-id="3">
                                <i class="far fa-heart"></i>
                            </button>
                        </div>
                        <p class="mt-2 text-dark-brown">
                            How can we maintain our Christian values while navigating the rapidly changing digital landscape? Reflections from our chaplain.
                        </p>
                        <div class="flex items-center mt-6">
                            <img class="h-8 w-8 rounded-full" src="https://randomuser.me/api/portraits/men/18.jpg" alt="Author">
                            <div class="ml-3">
                                <p class="text-sm font-medium text-coffee">Fr. Joseph Mugerwa</p>
                                <p class="text-xs text-light-brown">3 weeks ago • 37 likes</p>
                            </div>
                        </div>
                    </div>
                    <div class="px-6 pb-4">
                        <button class="view-comments-btn text-sm text-coffee hover:underline" data-post-id="3">
                            View 12 comments
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 text-center">
                <button class="px-6 py-2 btn-secondary rounded-lg">
                    View All Posts
                </button>
            </div>
        </section>
        
        <!-- Upcoming Events -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 text-coffee border-b-2 border-coffee pb-2">Upcoming Events</h2>
            
            <div class="bg-white rounded-xl shadow-md overflow-hidden">
                <div class="divide-y divide-gray-200">
                    <!-- Event 1 -->
                    <div class="p-6 flex flex-col md:flex-row">
                        <div class="md:w-1/4 mb-4 md:mb-0">
                            <div class="bg-coffee text-white rounded-lg p-3 text-center">
                                <div class="text-2xl font-bold">15</div>
                                <div class="text-sm uppercase">June</div>
                                <div class="text-xs mt-1">2023</div>
                            </div>
                        </div>
                        <div class="md:w-3/4 md:pl-6">
                            <h3 class="text-xl font-bold text-coffee mb-2">Web Development Workshop</h3>
                            <p class="text-dark-brown mb-3">
                                Learn HTML, CSS, and JavaScript basics in this hands-on workshop. Open to all students interested in web development.
                            </p>
                            <div class="flex flex-wrap items-center text-sm text-light-brown">
                                <div class="flex items-center mr-4 mb-2 md:mb-0">
                                    <i class="far fa-clock mr-2"></i>
                                    <span>2:00 PM - 4:00 PM</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-map-marker-alt mr-2"></i>
                                    <span>Computer Lab 2</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Event 2 -->
                    <div class="p-6 flex flex-col md:flex-row">
                        <div class="md:w-1/4 mb-4 md:mb-0">
                            <div class="bg-coffee text-white rounded-lg p-3 text-center">
                                <div class="text-2xl font-bold">22</div>
                                <div class="text-sm uppercase">June</div>
                                <div class="text-xs mt-1">2023</div>
                            </div>
                        </div>
                        <div class="md:w-3/4 md:pl-6">
                            <h3 class="text-xl font-bold text-coffee mb-2">Tech & Faith Panel Discussion</h3>
                            <p class="text-dark-brown mb-3">
                                Join us for a thoughtful discussion on balancing technology use with spiritual growth, featuring guest speakers from the tech industry and clergy.
                            </p>
                            <div class="flex flex-wrap items-center text-sm text-light-brown">
                                <div class="flex items-center mr-4 mb-2 md:mb-0">
                                    <i class="far fa-clock mr-2"></i>
                                    <span>3:30 PM - 5:30 PM</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-map-marker-alt mr-2"></i>
                                    <span>School Chapel</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Event 3 -->
                    <div class="p-6 flex flex-col md:flex-row">
                        <div class="md:w-1/4 mb-4 md:mb-0">
                            <div class="bg-coffee text-white rounded-lg p-3 text-center">
                                <div class="text-2xl font-bold">30</div>
                                <div class="text-sm uppercase">June</div>
                                <div class="text-xs mt-1">2023</div>
                            </div>
                        </div>
                        <div class="md:w-3/4 md:pl-6">
                            <h3 class="text-xl font-bold text-coffee mb-2">Inter-school Coding Competition</h3>
                            <p class="text-dark-brown mb-3">
                                Our ICT Club will compete against other schools in this annual coding challenge. Come support your team!
                            </p>
                            <div class="flex flex-wrap items-center text-sm text-light-brown">
                                <div class="flex items-center mr-4 mb-2 md:mb-0">
                                    <i class="far fa-clock mr-2"></i>
                                    <span>9:00 AM - 2:00 PM</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-map-marker-alt mr-2"></i>
                                    <span>Makerere University</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-coffee text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">St. Joseph's Naggalama</h3>
                    <p class="mb-4">"Educating the mind, body and spirit in the Catholic tradition since 1954."</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-white hover:text-pale-yellow transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white hover:text-pale-yellow transition"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-white hover:text-pale-yellow transition"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white hover:text-pale-yellow transition"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-xl font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-pale-yellow transition">Home</a></li>
                        <li><a href="#" class="hover:text-pale-yellow transition">About Us</a></li>
                        <li><a href="#" class="hover:text-pale-yellow transition">Club Activities</a></li>
                        <li><a href="#" class="hover:text-pale-yellow transition">Resources</a></li>
                        <li><a href="#" class="hover:text-pale-yellow transition">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-xl font-bold mb-4">Contact Us</h3>
                    <address class="not-italic">
                        <p class="mb-2"><i class="fas fa-map-marker-alt mr-2"></i> P.O. Box 123, Naggalama</p>
                        <p class="mb-2"><i class="fas fa-phone mr-2"></i> +256 712 345 678</p>
                        <p class="mb-2"><i class="fas fa-envelope mr-2"></i> ictclub@stjosephsnaggalama.sc.ug</p>
                    </address>
                </div>
                
                <div>
                    <h3 class="text-xl font-bold mb-4">Newsletter</h3>
                    <p class="mb-4">Subscribe to our newsletter for updates on club activities and events.</p>
                    <form class="flex">
                        <input type="email" placeholder="Your email" class="px-4 py-2 rounded-l-lg w-full text-dark-brown">
                        <button type="submit" class="px-4 py-2 bg-pale-yellow text-coffee rounded-r-lg">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="border-t border-light-brown mt-8 pt-8 text-center">
                <p>&copy; 2023 St. Joseph's Naggalama ICT Club. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-md p-6 mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-coffee">Login</h3>
                <button id="close-login-modal" class="text-gray-500 hover:text-coffee">
                    <div class="cross-icon"></div>
                </button>
            </div>
            
            <form id="login-form">
                <div class="mb-4">
                    <label for="login-email" class="block text-sm font-medium text-coffee mb-1">Email</label>
                    <input type="email" id="login-email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required>
                </div>
                
                <div class="mb-6">
                    <label for="login-password" class="block text-sm font-medium text-coffee mb-1">Password</label>
                    <input type="password" id="login-password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required>
                </div>
                
                <button type="submit" class="w-full btn-primary py-3 rounded-lg font-bold mb-4">
                    Login
                </button>
                
                <div class="text-center text-sm text-gray-600">
                    Don't have an account? <button id="switch-to-signup" class="text-coffee hover:underline">Sign up</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signup-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-md p-6 mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-coffee">Sign Up</h3>
                <button id="close-signup-modal" class="text-gray-500 hover:text-coffee">
                    <div class="cross-icon"></div>
                </button>
            </div>
            
            <form id="signup-form">
                <div class="mb-4">
                    <label for="signup-name" class="block text-sm font-medium text-coffee mb-1">Full Name</label>
                    <input type="text" id="signup-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required>
                </div>
                
                <div class="mb-4">
                    <label for="signup-email" class="block text-sm font-medium text-coffee mb-1">Email</label>
                    <input type="email" id="signup-email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required>
                </div>
                
                <div class="mb-4">
                    <label for="signup-password" class="block text-sm font-medium text-coffee mb-1">Password</label>
                    <input type="password" id="signup-password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required>
                </div>
                
                <div class="mb-6">
                    <label for="signup-confirm-password" class="block text-sm font-medium text-coffee mb-1">Confirm Password</label>
                    <input type="password" id="signup-confirm-password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required>
                </div>
                
                <div class="mb-4 flex items-center">
                    <input type="checkbox" id="signup-terms" class="h-4 w-4 text-coffee focus:ring-coffee border-gray-300 rounded" required>
                    <label for="signup-terms" class="ml-2 block text-sm text-gray-600">
                        I agree to the <a href="#" class="text-coffee hover:underline">Terms of Service</a> and <a href="#" class="text-coffee hover:underline">Privacy Policy</a>
                    </label>
                </div>
                
                <button type="submit" class="w-full btn-primary py-3 rounded-lg font-bold mb-4">
                    Create Account
                </button>
                
                <div class="text-center text-sm text-gray-600">
                    Already have an account? <button id="switch-to-login" class="text-coffee hover:underline">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Comments Modal -->
    <div id="comments-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-2xl max-h-[90vh] p-6 mx-4 flex flex-col">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-coffee">Comments</h3>
                <button id="close-comments-modal" class="text-gray-500 hover:text-coffee">
                    <div class="cross-icon"></div>
                </button>
            </div>
            
            <div id="comments-container" class="flex-grow overflow-y-auto mb-6 space-y-4 pr-2">
                <!-- Comment 1 -->
                <div class="bg-pale-yellow rounded-lg p-4 comment-box">
                    <div class="flex items-start">
                        <img class="h-10 w-10 rounded-full" src="https://randomuser.me/api/portraits/women/32.jpg" alt="User">
                        <div class="ml-3 flex-grow">
                            <div class="flex items-center justify-between">
                                <h4 class="text-sm font-bold text-coffee">Mary Kintu</h4>
                                <span class="text-xs text-light-brown">2 days ago</span>
                            </div>
                            <p class="mt-1 text-sm text-dark-brown">
                                This workshop was incredibly helpful! I learned so much about Python basics. Can't wait for the next session.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Comment 2 -->
                <div class="bg-pale-yellow rounded-lg p-4 comment-box">
                    <div class="flex items-start">
                        <img class="h-10 w-10 rounded-full" src="https://randomuser.me/api/portraits/men/45.jpg" alt="User">
                        <div class="ml-3 flex-grow">
                            <div class="flex items-center justify-between">
                                <h4 class="text-sm font-bold text-coffee">Peter Wasswa</h4>
                                <span class="text-xs text-light-brown">1 day ago</span>
                            </div>
                            <p class="mt-1 text-sm text-dark-brown">
                                I agree with Mary! The instructor was very patient and explained concepts clearly. Do you have any recommended resources for further practice?
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Comment 3 -->
                <div class="bg-pale-yellow rounded-lg p-4 comment-box">
                    <div class="flex items-start">
                        <img class="h-10 w-10 rounded-full" src="https://randomuser.me/api/portraits/women/44.jpg" alt="Author">
                        <div class="ml-3 flex-grow">
                            <div class="flex items-center justify-between">
                                <h4 class="text-sm font-bold text-coffee">Ms. Sarah Nalubega</h4>
                                <span class="text-xs text-light-brown">1 day ago</span>
                            </div>
                            <p class="mt-1 text-sm text-dark-brown">
                                Thank you both for your kind words! For further practice, I recommend Codecademy's Python course and the book "Python Crash Course" by Eric Matthes. We'll also be posting practice problems on the club portal soon.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <form id="add-comment-form" class="mt-auto">
                <div class="flex items-start">
                    <img id="comment-user-avatar" class="h-10 w-10 rounded-full hidden" src="" alt="User">
                    <div class="flex-grow ml-3">
                        <textarea id="comment-text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" rows="2" placeholder="Add a comment..."></textarea>
                        <div class="flex justify-between items-center mt-2">
                            <div id="comment-login-prompt" class="text-sm text-gray-600">
                                Please <button id="login-from-comment" class="text-coffee hover:underline">login</button> to comment
                            </div>
                            <button type="submit" id="submit-comment-btn" class="px-4 py-2 btn-primary rounded-lg hidden">
                                Post Comment
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- New Post Modal -->
    <div id="new-post-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-2xl p-6 mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-coffee">Create New Post</h3>
                <button id="close-new-post-modal" class="text-gray-500 hover:text-coffee">
                    <div class="cross-icon"></div>
                </button>
            </div>
            
            <form id="new-post-form">
                <div class="mb-4">
                    <label for="post-title" class="block text-sm font-medium text-coffee mb-1">Title</label>
                    <input type="text" id="post-title" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required>
                </div>
                
                <div class="mb-4">
                    <label for="post-category" class="block text-sm font-medium text-coffee mb-1">Category</label>
                    <select id="post-category" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required>
                        <option value="">Select a category</option>
                        <option value="announcement">Announcement</option>
                        <option value="workshop">Workshop</option>
                        <option value="event">Event</option>
                        <option value="devotional">Devotional</option>
                        <option value="technology">Technology</option>
                        <option value="education">Education</option>
                    </select>
                </div>
                
                <div class="mb-4">
                    <label for="post-image" class="block text-sm font-medium text-coffee mb-1">Featured Image (URL)</label>
                    <input type="url" id="post-image" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee">
                </div>
                
                <div class="mb-4">
                    <label for="post-content" class="block text-sm font-medium text-coffee mb-1">Content</label>
                    <textarea id="post-content" rows="8" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-coffee focus:border-coffee" required></textarea>
                </div>
                
                <div class="flex justify-end space-x-4">
                    <button type="button" id="cancel-post-btn" class="px-6 py-2 border border-coffee text-coffee rounded-lg hover:bg-gray-100">
                        Cancel
                    </button>
                    <button type="submit" class="px-6 py-2 btn-primary rounded-lg">
                        Publish Post
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // DOM Elements
        const loginBtn = document.getElementById('login-btn');
        const signupBtn = document.getElementById('signup-btn');
        const userMenuBtn = document.getElementById('user-menu-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const userMenu = document.getElementById('user-menu');
        const loginModal = document.getElementById('login-modal');
        const closeLoginModal = document.getElementById('close-login-modal');
        const loginForm = document.getElementById('login-form');
        const signupModal = document.getElementById('signup-modal');
        const closeSignupModal = document.getElementById('close-signup-modal');
        const signupForm = document.getElementById('signup-form');
        const switchToSignup = document.getElementById('switch-to-signup');
        const switchToLogin = document.getElementById('switch-to-login');
        const commentsModal = document.getElementById('comments-modal');
        const closeCommentsModal = document.getElementById('close-comments-modal');
        const viewCommentsBtns = document.querySelectorAll('.view-comments-btn');
        const addCommentForm = document.getElementById('add-comment-form');
        const commentText = document.getElementById('comment-text');
        const submitCommentBtn = document.getElementById('submit-comment-btn');
        const commentLoginPrompt = document.getElementById('comment-login-prompt');
        const loginFromComment = document.getElementById('login-from-comment');
        const likeBtns = document.querySelectorAll('.like-btn');
        const newPostBtn = document.getElementById('new-post-btn');
        const newPostModal = document.getElementById('new-post-modal');
        const closeNewPostModal = document.getElementById('close-new-post-modal');
        const cancelPostBtn = document.getElementById('cancel-post-btn');
        const newPostForm = document.getElementById('new-post-form');
        
        // Current user state
        let currentUser = null;
        
        // Event Listeners
        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
        loginBtn.addEventListener('click', () => showModal(loginModal));
        signupBtn.addEventListener('click', () => showModal(signupModal));
        userMenuBtn.addEventListener('click', toggleUserMenu);
        logoutBtn.addEventListener('click', handleLogout);
        closeLoginModal.addEventListener('click', () => hideModal(loginModal));
        closeSignupModal.addEventListener('click', () => hideModal(signupModal));
        switchToSignup.addEventListener('click', () => {
            hideModal(loginModal);
            showModal(signupModal);
        });
        switchToLogin.addEventListener('click', () => {
            hideModal(signupModal);
            showModal(loginModal);
        });
        loginForm.addEventListener('submit', handleLogin);
        signupForm.addEventListener('submit', handleSignup);
        viewCommentsBtns.forEach(btn => btn.addEventListener('click', showComments));
        closeCommentsModal.addEventListener('click', () => hideModal(commentsModal));
        addCommentForm.addEventListener('submit', handleAddComment);
        loginFromComment.addEventListener('click', () => {
            hideModal(commentsModal);
            showModal(loginModal);
        });
        likeBtns.forEach(btn => btn.addEventListener('click', handleLike));
        newPostBtn.addEventListener('click', () => showModal(newPostModal));
        closeNewPostModal.addEventListener('click', () => hideModal(newPostModal));
        cancelPostBtn.addEventListener('click', () => hideModal(newPostModal));
        newPostForm.addEventListener('submit', handleNewPost);
        
        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === loginModal) hideModal(loginModal);
            if (e.target === signupModal) hideModal(signupModal);
            if (e.target === commentsModal) hideModal(commentsModal);
            if (e.target === newPostModal) hideModal(newPostModal);
            if (!userMenu.contains(e.target) && e.target !== userMenuBtn) {
                userMenu.classList.add('hidden');
            }
        });
        
        // Functions
        function toggleMobileMenu() {
            mobileMenu.classList.toggle('hidden');
        }
        
        function toggleUserMenu() {
            userMenu.classList.toggle('hidden');
        }
        
        function showModal(modal) {
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        
        function hideModal(modal) {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
        
        function showComments(e) {
            const postId = e.currentTarget.getAttribute('data-post-id');
            // In a real app, we would fetch comments for this post from Firebase
            showModal(commentsModal);
        }
        
        async function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            try {
                // Firebase authentication
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                currentUser = userCredential.user;
                updateUIForLoggedInUser();
                hideModal(loginModal);
                alert('Login successful!');
            } catch (error) {
                alert(error.message);
            }
        }
        
        async function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            try {
                // Firebase authentication
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                currentUser = userCredential.user;
                
                // Save additional user data to Firestore
                await db.collection('users').doc(userCredential.user.uid).set({
                    name: name,
                    email: email,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                updateUIForLoggedInUser();
                hideModal(signupModal);
                alert('Account created successfully!');
            } catch (error) {
                alert(error.message);
            }
        }
        
        async function handleLogout() {
            try {
                await auth.signOut();
                currentUser = null;
                updateUIForLoggedOutUser();
                alert('Logged out successfully!');
            } catch (error) {
                alert(error.message);
            }
        }
        
        function updateUIForLoggedInUser() {
            // Hide login/signup buttons
            loginBtn.classList.add('hidden');
            signupBtn.classList.add('hidden');
            
            // Show user menu
            userMenuBtn.classList.remove('hidden');
            
            // Update user menu with user's name
            const userName = currentUser.displayName || currentUser.email.split('@')[0];
            userMenuBtn.querySelector('span').textContent = userName;
            
            // Enable comment submission
            submitCommentBtn.classList.remove('hidden');
            commentLoginPrompt.classList.add('hidden');
            
            // Show new post button if user is admin/teacher
            newPostBtn.classList.remove('hidden');
        }
        
        function updateUIForLoggedOutUser() {
            // Show login/signup buttons
            loginBtn.classList.remove('hidden');
            signupBtn.classList.remove('hidden');
            
            // Hide user menu
            userMenuBtn.classList.add('hidden');
            
            // Disable comment submission
            submitCommentBtn.classList.add('hidden');
            commentLoginPrompt.classList.remove('hidden');
            
            // Hide new post button
            newPostBtn.classList.add('hidden');
        }
        
        function handleLike(e) {
            if (!currentUser) {
                alert('Please login to like posts');
                showModal(loginModal);
                return;
            }
            
            const likeBtn = e.currentTarget;
            const postId = likeBtn.getAttribute('data-post-id');
            
            // Toggle like state
            const isLiked = likeBtn.classList.contains('liked');
            
            if (isLiked) {
                // Unlike post
                likeBtn.classList.remove('liked');
                likeBtn.innerHTML = '<i class="far fa-heart"></i>';
                // In real app: Update Firebase to remove like
            } else {
                // Like post
                likeBtn.classList.add('liked');
                likeBtn.innerHTML = '<i class="fas fa-heart"></i>';
                // In real app: Update Firebase to add like
            }
        }
        
        async function handleAddComment(e) {
            e.preventDefault();
            
            if (!currentUser) {
                alert('Please login to comment');
                showModal(loginModal);
                return;
            }
            
            const comment = commentText.value.trim();
            if (!comment) return;
            
            try {
                // In real app: Add comment to Firebase
                // await db.collection('comments').add({
                //     postId: currentPostId,
                //     userId: currentUser.uid,
                //     userName: currentUser.displayName || 'Anonymous',
                //     userAvatar: currentUser.photoURL || '',
                //     text: comment,
                //     createdAt: firebase.firestore.FieldValue.serverTimestamp()
                // });
                
                // For demo purposes, just add to DOM
                const commentsContainer = document.getElementById('comments-container');
                const newComment = document.createElement('div');
                newComment.className = 'bg-pale-yellow rounded-lg p-4 comment-box';
                newComment.innerHTML = `
                    <div class="flex items-start">
                        <img class="h-10 w-10 rounded-full" src="https://randomuser.me/api/portraits/men/1.jpg" alt="User">
                        <div class="ml-3 flex-grow">
                            <div class="flex items-center justify-between">
                                <h4 class="text-sm font-bold text-coffee">${currentUser.email.split('@')[0]}</h4>
                                <span class="text-xs text-light-brown">Just now</span>
                            </div>
                            <p class="mt-1 text-sm text-dark-brown">${comment}</p>
                        </div>
                    </div>
                `;
                commentsContainer.appendChild(newComment);
                
                // Clear comment input
                commentText.value = '';
                
                // Scroll to new comment
                newComment.scrollIntoView({ behavior: 'smooth' });
            } catch (error) {
                alert('Failed to post comment: ' + error.message);
            }
        }
        
        async function handleNewPost(e) {
            e.preventDefault();
            
            const title = document.getElementById('post-title').value;
            const category = document.getElementById('post-category').value;
            const imageUrl = document.getElementById('post-image').value;
            const content = document.getElementById('post-content').value;
            
            try {
                // In real app: Add post to Firebase
                // await db.collection('posts').add({
                //     title: title,
                //     category: category,
                //     imageUrl: imageUrl,
                //     content: content,
                //     authorId: currentUser.uid,
                //     authorName: currentUser.displayName || 'Anonymous',
                //     createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                //     likes: 0,
                //     comments: 0
                // });
                
                alert('Post created successfully!');
                hideModal(newPostModal);
                newPostForm.reset();
                
                // In real app: Refresh posts list or redirect
            } catch (error) {
                alert('Failed to create post: ' + error.message);
            }
        }
        
        // Check auth state on page load
        auth.onAuthStateChanged(user => {
            if (user) {
                currentUser = user;
                updateUIForLoggedInUser();
            } else {
                currentUser = null;
                updateUIForLoggedOutUser();
            }
        });
    </script>
</body>
</html>
